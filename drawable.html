<!DOCTYPE html>
<html lang="en" ng-app="drawable">
<head>
    <meta charset="UTF-8">
    <title>Drawable Area</title>
    <link href="./node_modules/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link href="./node_modules/angular-bootstrap-colorpicker/css/colorpicker.min.css" rel="stylesheet">
    <link href="./node_modules/angular-hotkeys/build/hotkeys.min.css" rel="stylesheet">
    <link href="./node_modules/angular-ui-switch/angular-ui-switch.min.css" rel="stylesheet">
    <link href="main.css" rel="stylesheet">
</head>
<body ng-controller="DrawableCtrl as drawCtrl" ng-class="drawCtrl.vibrancy ? 'vibrancy' : 'no-vibrancy'">
<script type="text/ng-template" id="strokeAdjustTemplate.html">
    <div class="form-group">
        <label>Width</label>
        <div class="center-parent">
            <div id="preview-width"
                 ng-style="{width: drawCtrl.canvasOptions.lineWidth+'px', height: drawCtrl.canvasOptions.lineWidth+'px'}"></div>
        </div>
        <input type="range" min=".5" max="20" ng-model="drawCtrl.canvasOptions.lineWidth">
    </div>
</script>
<script type="text/ng-template" id="configurationTemplate.html">
    <form>
        <label>Grid</label>
        <div class="right-config">
            <switch id="enabled" name="enabled" ng-model="drawCtrl.gridVisible" class="green" size="small"></switch>
        </div>
        <div class="divider"></div>
        <label>Line Shadow</label>
        <div class="right-config">
            <switch id="enabled" name="enabled" ng-model="drawCtrl.lineShadow" class="green" size="small"></switch>
        </div>
        <div class="divider"></div>
        <label>Theme</label>
        <div class="right-config">
            <select ng-model="drawCtrl.theme" ng-change="drawCtrl.updateTheme()">
                <option value="ultra-dark">Ultra Dark</option>
                <option value="dark">Dark</option>
                <option value="selection">Clear Light</option>
                <option value="titlebar">Light</option>
                <option value="medium-light">Medium Light</option>
                <option value="light">Ultra Light</option>
            </select>
        </div>
    </form>
</script>
<div id="title" ng-class="{'drawing': drawCtrl.drawing}">
    <span>Draw Anywhere</span>
</div>
<div id="toolbar"
     ng-draggable="drawCtrl.dragOptions"
     class="drawable"
     ng-hide="drawCtrl.circularToolbar"
     ng-class="{'verticalToolbar':drawCtrl.verticalToolbar, 'drawing': drawCtrl.drawing}">
    <button uib-popover-template="drawCtrl.configurationTemplate"
            popover-placement="{{drawCtrl.verticalToolbar ? 'left': 'bottom-left'}}"
            popover-trigger="'outsideClick'" popover-append-to-body="true" type="button">
        <i class="fa fa-cog" aria-hidden="true" ng-class=""></i>
    </button>
    <div uib-dropdown keyboard-nav appendToOpenClass="open">
        <button id="btn-append-to-body" type="button" uib-dropdown-toggle>
            <i class="fa" ng-class="drawCtrl.currentPort ? 'fa-chain' : 'fa-chain-broken'" aria-hidden="true"></i>
        </button>
        <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="btn-append-to-body">
            <li role="menuitem"
                ng-repeat="port in drawCtrl.ports"
                ng-class="{'selected': drawCtrl.currentPort==port.comName}"
                ng-click="drawCtrl.setPort(port.comName)">
                <a href="#">{{port.comName}}
                    <span ng-show="drawCtrl.currentPort==port.comName"> &#10004;</span>
                </a>
            </li>
            <li class="divider"></li>
            <li role="menuitem"><a href="#">Refresh</a></li>
        </ul>
    </div>
    <button>
        <i class="fa fa-mouse-pointer" aria-hidden="true"></i>
    </button>
    <button colorpicker="rgba" type="button" colorpicker-position="{{drawCtrl.verticalToolbar ? 'left': 'bottom'}}"
            ng-model="drawCtrl.canvasOptions.color">
        <i class="fa fa-eyedropper" aria-hidden="true" ng-style="{color: drawCtrl.canvasOptions.color}"></i>
    </button>
    <button uib-popover-template="drawCtrl.strokeAdjustTemplate"
            popover-placement="{{drawCtrl.verticalToolbar ? 'left': 'bottom'}}"
            popover-trigger="'outsideClick'" popover-append-to-body="true" type="button">
        <i class="fa fa-adjust" aria-hidden="true"></i>
    </button>
    <button ng-disabled="drawCtrl.version == 0" ng-click="drawCtrl.version = drawCtrl.version - 1">
        <i class="fa fa-undo" aria-hidden="true"></i>
    </button>
    <button>
        <i class="fa fa-trash" aria-hidden="true" ng-click="drawCtrl.version = 0"></i>
    </button>
    <button ng-click="drawCtrl.toggleVibrancy()">
        <i class="fa" ng-class="drawCtrl.vibrancy ? 'fa-eye' : 'fa-eye-slash'" aria-hidden="true"></i>
    </button>
    <button ng-click="drawCtrl.copyToClipboard()">
        <i class="fa fa-clipboard" aria-hidden="true"></i>
    </button>
    <button ng-click="drawCtrl.verticalToolbar = !drawCtrl.verticalToolbar">
        <i class="fa" ng-class="drawCtrl.verticalToolbar ? 'fa-chevron-circle-left' : 'fa-chevron-circle-down'"
           aria-hidden="true"></i>
    </button>
</div>
<div id="circular-toolbar" ng-draggable="drawCtrl.dragOptions" ng-show="drawCtrl.circularToolbar">
    <button class="cog" uib-popover-template="drawCtrl.configurationTemplate" popover-placement="bottom"
            popover-trigger="'outsideClick'" popover-append-to-body="true" type="button">
        <i class="fa fa-cog" aria-hidden="true"></i>
    </button>
    <button class="mouse-pointer">
        <i class="fa fa-mouse-pointer" aria-hidden="true"></i>
    </button>
    <button class="eyedropper" colorpicker="rgba" type="button" colorpicker-position="left"
            ng-model="drawCtrl.canvasOptions.color">
        <i class="fa fa-eyedropper" aria-hidden="true" ng-style="{color: drawCtrl.canvasOptions.color}"></i>
    </button>
    <button ng-click="drawCtrl.toggleVibrancy()" class="eye">
        <i class="fa" ng-class="drawCtrl.vibrancy ? 'fa-eye' : 'fa-eye-slash'" aria-hidden="true"></i>
    </button>
    <button class="undo" ng-disabled="drawCtrl.version == 0" ng-click="drawCtrl.version = drawCtrl.version - 1">
        <i class="fa fa-undo" aria-hidden="true"></i>
    </button>
    <button class="adjust" uib-popover-template="drawCtrl.strokeAdjustTemplate" popover-placement="top"
            popover-trigger="'outsideClick'" popover-append-to-body="true" type="button">
        <i class="fa fa-adjust" aria-hidden="true"></i>
    </button>
    <button class="trash" ng-click="drawCtrl.version = 0">
        <i class="fa fa-trash" aria-hidden="true"></i>
    </button>
    <button class="clipboard" ng-click="drawCtrl.copyToClipboard()">
        <i class="fa fa-clipboard" aria-hidden="true"></i>
    </button>
</div>
<div id="drawable-region" ng-class="{'grid': drawCtrl.gridVisible}">
</div>
<div id="cover" ng-show="drawCtrl.cover"></div>
<div pw-canvas
     options="drawCtrl.canvasOptions"
     class="canvas"
     version="drawCtrl.version"
     ng-mousedown="drawCtrl.drawing = true"
     ng-mouseup="drawCtrl.drawing = false">
</div>
<script type="text/javascript" src="./node_modules/angular/angular.min.js"></script>
<script type="text/javascript" src="./node_modules/angular-animate/angular-animate.js"></script>
<script type="text/javascript" src="./node_modules/angular-ui-bootstrap/dist/ui-bootstrap-tpls.js"></script>
<script type="text/javascript" src="./node_modules/angular-ui-switch/angular-ui-switch.min.js"></script>
<script type="text/javascript" src="./node_modules/angular-canvas-painter/dist/angular-canvas-painter.min.js"></script>
<script type="text/javascript"
        src="./node_modules/angular-bootstrap-colorpicker/js/bootstrap-colorpicker-module.min.js"></script>
<script type="text/javascript" src="./node_modules/angular-hotkeys/build/hotkeys.min.js"></script>
<script type="text/javascript" src="./drawable.js"></script>
</body>
</html>

